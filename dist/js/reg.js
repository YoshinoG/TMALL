$(function(){var t=flag2=flag3=flag4=flag5=!1,s=$("header p"),e="",n="";$("#user-pact>span").click(function(){$(location).attr("href","index.html")}),$("#agree").click(function(){$("#user-pact").css("display","none")}),$("#on").click(function(){$(this).find("ul:hidden").length?$(this).find("ul").css("display","block"):$(this).find("ul").css("display","none")}),$("#tell").change(function(){var e=$("#tell").val();/^[1][3,4,5,7,8][0-9]{9}$/.test(e)?(t=!0,$(this).next().html("&#xe600;").addClass("green")):(t=!1,$(this).next().html("请正确输入").addClass("red"))}),$(".inner").mousedown(function(e){var t,s=$(".inner"),n=s.offset(),a=$(".outer>span"),l=$(".filter-box"),o=$(".outer").width()-s.width();$(document).mousemove(function(e){(t=e.pageX-n.left)<0?t=0:o<t&&(t=o),l.css("width",t),s.css("left",t)}),$(document).mouseup(function(e){$(document).off("mousemove"),$(document).off("mouseup"),(t=e.pageX-n.left)<o?(t=0,a.html("滑动解锁")):o<=t&&(t=o,$(".outer").addClass("act"),a.html("验证通过！"),l.html(""),s.html("&#xe600;"),flag2=!0),l.css("width",t),s.css("left",t)})}),$("#next1").click(function(){t&&flag2&&($("#content1").next().css("display","block").siblings(".content").css("display","none"),s.eq(1).addClass("now").siblings().removeClass("now"))}),$("#username").change(function(){n=$("#username").val(),/[A-Za-z_0-9]{3,20}$/.test(n)?(flag3=!0,$(this).next().html("&#xe600;").addClass("green")):(flag3=!1,$(this).next().html("请正确输入").addClass("red"))}),$("#pwd").change(function(){e=$("#pwd").val(),/[A-Za-z_0-9]{6,20}$/.test(e)?(flag4=!0,$(this).next().html("&#xe600;").attr("class","green")):(flag4=!1,$(this).next().html("请正确输入").attr("class","red")),$("#pwd-re").val()===e?(flag5=!0,$("#pwd-re").next().html("&#xe600;").attr("class","green")):(flag6=!1,$("#pwd-re").next().html("两次密码不一致").attr("class","red"))}),$("#pwd-re").change(function(){$("#pwd-re").val()===e?(flag5=!0,$(this).next().html("&#xe600;").attr("class","green")):(flag6=!1,$(this).next().html("两次密码不一致").attr("class","red"))}),$("#next2").click(function(){flag3&&flag4&&flag5&&$.ajax({type:"post",url:"http://h6.duchengjiu.top/shop/api_user.php",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{status:"register",username:n,password:e},success:function(e){console.log(e),0==e.code?($("#content2").next().css("display","block").siblings(".content").css("display","none"),s.eq(2).addClass("now").siblings().removeClass("now")):2001==e.code&&$("#username").next().html("用户名已存在").attr("class","red")}})}),$("#next3").click(function(){$("#content3").next().css("display","block").siblings(".content").css("display","none"),s.eq(3).addClass("now").siblings().removeClass("now")}),$("#next4").click(function(){$.ajax({type:"get",url:"http://h6.duchengjiu.top/shop/api_userinfo.php",data:{status:"Info",username:n},success:function(e){console.log(e)}})}),$.ajax({type:"get",url:"http://h6.duchengjiu.top/shop/api_userinfo.php",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:{status:"Info",username:"gz"},success:function(e){console.log(e)}})});