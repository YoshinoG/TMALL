!function(x){x.fn.carousel=function(n){for(var d=n.carousel,i=x(d).children("li"),e=n.indexContainer,s=n.prev,l=n.next,a=n.timing,o=n.animateTime,t=n.auto,c=1;c<=i.length;c++)x(e).append("<li></li>");var r=x(e).children("li");x(i[0]).addClass("on").fadeIn(o),x(r[0]).addClass("index"),t&&window.setInterval("$.switchImg();",a),x(s).off("click").on("click",function(){var n=x(d).children(".on");n.stop(!0,!0).fadeOut(o).removeClass("on"),n.prev().is("li")?(x.switchIndex(x(d).children("li").index(n.prev())),n.prev().stop(!0,!0).addClass("on").delay(o/2).fadeIn(o)):(x.switchIndex(x(d).children("li").index(i[i.length-1])),x(i[i.length-1]).stop(!0,!0).addClass("on").delay(o/2).fadeIn(o))}),x(l).off("click").on("click",function(){var n=x(d).children(".on");n.stop(!0,!0).fadeOut(o).removeClass("on"),n.next().is("li")?(x.switchIndex(x(d).children("li").index(n.next())),n.next().stop(!0,!0).addClass("on").delay(o/2).fadeIn(o)):(x.switchIndex(x(d).children("li").index(i[0])),x(i[0]).stop(!0,!0).addClass("on").delay(o/2).fadeIn(o))}),x(r).off("click").on("click",function(){if("index"!=x(this).attr("class")){var n=x(d).children(".on"),e=x(this).index();console.log(e),x(r).removeClass("index"),x(r[e]).addClass("index"),n.stop(!0,!0).fadeOut(o).removeClass("on"),x(i[e]).stop(!0,!0).addClass("on").delay(o/2).fadeIn(o)}}),x.extend({switchIndex:function(n){x(r).removeClass("index"),x(r[n]).addClass("index")}}),x.extend({switchImg:function(){var n=x(d).children(".on");n.stop(!0,!0).fadeOut(o).removeClass("on"),n.next().is("li")?(x.switchIndex(x(d).children("li").index(n.next())),n.next().stop(!0,!0).addClass("on").delay(o/2).fadeIn(o)):(x.switchIndex(x(d).children("li").index(i[0])),x(i[0]).stop(!0,!0).addClass("on").delay(o/2).fadeIn(o))}})}}(jQuery);